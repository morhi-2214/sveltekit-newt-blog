@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

/* TODO: scoped もしくは @layerComponents で管理した方が良いが、なぜか効かないので暫定対応 */

/* 本文のスタイリング */

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body p {
	@apply mb-4;
}

.markdown-body h1 {
	@apply text-2xl font-bold;
}

.markdown-body h2 {
	@apply text-xl font-bold;
}

.markdown-body h3 {
	@apply text-lg font-bold;
}

.markdown-body h4 {
	@apply text-base font-bold;
}

/* コードブロック rehype-pretty-code */

.rehype-code-title {
	@apply inline-block rounded-t-[5px] bg-[#22272e] px-5 pt-[7px] text-white;
}

[data-rehype-pretty-code-figure] {
	@apply mb-4;
}

[data-rehype-pretty-code-figure] pre {
	@apply overflow-x-auto rounded-[0_5px_5px_5px] py-4;
}

[data-rehype-pretty-code-figure] pre [data-line] {
	@apply px-4 py-0.5;
}

/* 行番号の追加 */

code[data-line-numbers] {
	counter-reset: line;
}

code[data-line-numbers] > [data-line]::before {
	@apply mr-4 inline-block w-3 text-right text-gray-500;
	content: counter(line);
	counter-increment: line;
}

/* コードハイライティング */

[data-highlighted-line] {
	@apply !border-red-950 !bg-red-950;
}

/* リンクカード remarkLinkCard */

.remark-link-card-plus__container {
	@apply mb-4;
}

.remark-link-card-plus__card {
	@apply flex h-32 overflow-hidden rounded-xl border border-slate-300 bg-white !no-underline transition-colors hover:border-slate-500 hover:bg-slate-100;
}

.remark-link-card-plus__main {
	@apply flex flex-1 flex-col p-4;
}

.remark-link-card-plus__title {
	@apply line-clamp-2 text-lg font-semibold leading-6 text-gray-900 hover:!text-gray-900;
}

.remark-link-card-plus__description {
	@apply mt-1 line-clamp-1 text-sm text-gray-500;
}

.remark-link-card-plus__meta {
	@apply mt-auto flex items-center;
}

.remark-link-card-plus__favicon {
	@apply !my-0 mr-1 h-4 w-4;
}

.remark-link-card-plus__url {
	@apply text-xs text-gray-600;
}

.remark-link-card-plus__thumbnail {
	@apply h-32 w-1/3 md:max-w-64;
}

.remark-link-card-plus__image {
	@apply !my-0 h-full w-full object-cover;
}

/* 目次のスタイリング */
.toc-container {
	@apply mb-8 rounded-lg bg-gray-50 p-4;
}

.toc-list {
	@apply list-none pl-0;
}

.toc-list:first-child:before {
	content: '目次';
	@apply mb-2 block text-lg font-bold text-gray-900;
}

.toc-link {
	@apply text-gray-700 hover:text-gray-900 hover:underline;
}

.toc-link-h1 {
	@apply pl-4 text-sm font-bold;
}

.toc-link-h1::before {
	content: '#';
	@apply mr-1 text-gray-400;
}

.toc-link-h2 {
	@apply pl-8 text-sm text-gray-700;
}

.toc-link-h2::before {
	content: '##';
	@apply mr-1 text-gray-400;
}

/* アンカーリンクのスタイル */
.anchor-icon {
	@apply opacity-0 transition-opacity;
}

h1:hover .anchor-icon,
h2:hover .anchor-icon,
h3:hover .anchor-icon {
	@apply opacity-100;
}
